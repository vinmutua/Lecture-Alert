{
    "sourceFile": "lecture_alert/accounts/static/javascript/edit_timetable.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1736636226973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736636234820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +0,0 @@\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    const departmentSelect = document.getElementById('departmentSelect1');\r\n-    const coursesSelect = document.getElementById('coursesSelect1');\r\n-    const currentCourse = coursesSelect.value;\r\n-\r\n-    departmentSelect.addEventListener('change', function() {\r\n-        const department = this.value;\r\n-        loadCourses(department);\r\n-    });\r\n-\r\n-    // Load initial courses for pre-selected department\r\n-    if (departmentSelect.value) {\r\n-        loadCourses(departmentSelect.value, currentCourse);\r\n-    }\r\n-\r\n-    function loadCourses(department, selectedCourse = null) {\r\n-        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n-        const courses = coursesOptions[department] || [];\r\n-        \r\n-        courses.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            if (selectedCourse && course === selectedCourse) {\r\n-                option.selected = true;\r\n-            }\r\n-            coursesSelect.appendChild(option);\r\n-        });\r\n-    }\r\n-});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736637153892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,47 @@\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    const departmentSelect = document.getElementById('departmentSelect1');\r\n+    const coursesSelect = document.getElementById('coursesSelect1');\r\n+\r\n+    // Department-Course mappings\r\n+    const coursesOptions = {\r\n+        1: ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n+        2: ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n+        3: ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n+        4: ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n+        5: ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n+        6: ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n+        7: ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+    };\r\n+\r\n+    departmentSelect.addEventListener('change', function() {\r\n+        const selectedDepartment = this.value;\r\n+        \r\n+        // Clear existing options\r\n+        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n+\r\n+        // Try API first, fallback to local options\r\n+        fetch(`/api/courses/${selectedDepartment}/`)\r\n+            .then(response => {\r\n+                if (!response.ok) throw new Error('API fetch failed');\r\n+                return response.json();\r\n+            })\r\n+            .then(courses => {\r\n+                courses.forEach(course => {\r\n+                    const option = document.createElement('option');\r\n+                    option.value = course.id;\r\n+                    option.textContent = course.name;\r\n+                    coursesSelect.appendChild(option);\r\n+                });\r\n+            })\r\n+            .catch(() => {\r\n+                // Fallback to local options\r\n+                const localCourses = coursesOptions[selectedDepartment] || [];\r\n+                localCourses.forEach(course => {\r\n+                    const option = document.createElement('option');\r\n+                    option.value = course;\r\n+                    option.textContent = course;\r\n+                    coursesSelect.appendChild(option);\r\n+                });\r\n+            });\r\n+    });\r\n+});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736715702026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,44 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n+    const currentCourse = coursesSelect.value;\r\n+    const currentDepartment = departmentSelect.value;\r\n \r\n-    // Department-Course mappings\r\n     const coursesOptions = {\r\n-        1: ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        2: ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n-        3: ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n-        4: ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n-        5: ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n-        6: ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n-        7: ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n+        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n+        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n+        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n+        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n+        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n+        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n     };\r\n \r\n+    function updateCourses(department, selectedCourse = null) {\r\n+        console.log('Updating courses for department:', department);\r\n+        coursesSelect.innerHTML = '';\r\n+        \r\n+        const courses = coursesOptions[department] || [];\r\n+        courses.forEach(course => {\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            if (course === selectedCourse) {\r\n+                option.selected = true;\r\n+            }\r\n+            coursesSelect.appendChild(option);\r\n+        });\r\n+    }\r\n+\r\n+    // Load initial courses\r\n+    if (currentDepartment) {\r\n+        updateCourses(currentDepartment, currentCourse);\r\n+    }\r\n+\r\n+    // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n         const selectedDepartment = this.value;\r\n-        \r\n-        // Clear existing options\r\n-        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n-\r\n-        // Try API first, fallback to local options\r\n-        fetch(`/api/courses/${selectedDepartment}/`)\r\n-            .then(response => {\r\n-                if (!response.ok) throw new Error('API fetch failed');\r\n-                return response.json();\r\n-            })\r\n-            .then(courses => {\r\n-                courses.forEach(course => {\r\n-                    const option = document.createElement('option');\r\n-                    option.value = course.id;\r\n-                    option.textContent = course.name;\r\n-                    coursesSelect.appendChild(option);\r\n-                });\r\n-            })\r\n-            .catch(() => {\r\n-                // Fallback to local options\r\n-                const localCourses = coursesOptions[selectedDepartment] || [];\r\n-                localCourses.forEach(course => {\r\n-                    const option = document.createElement('option');\r\n-                    option.value = course;\r\n-                    option.textContent = course;\r\n-                    coursesSelect.appendChild(option);\r\n-                });\r\n-            });\r\n+        console.log('Department changed to:', selectedDepartment);\r\n+        updateCourses(selectedDepartment);\r\n     });\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736716914886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,42 +1,51 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n-    const currentCourse = coursesSelect.value;\r\n-    const currentDepartment = departmentSelect.value;\r\n+    \r\n+    console.log('Initial department value:', departmentSelect.value);\r\n+    console.log('Initial course value:', coursesSelect.value);\r\n \r\n     const coursesOptions = {\r\n-        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n-        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n-        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n-        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n-        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n-        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+        1: ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n+        2: ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n+        3: ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n+        4: ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n+        5: ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n+        6: ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n+        7: ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n     };\r\n \r\n-    function updateCourses(department, selectedCourse = null) {\r\n-        console.log('Updating courses for department:', department);\r\n-        coursesSelect.innerHTML = '';\r\n+    function updateCourses(departmentId) {\r\n+        console.log('Updating courses for department ID:', departmentId);\r\n         \r\n-        const courses = coursesOptions[department] || [];\r\n-        courses.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            if (course === selectedCourse) {\r\n-                option.selected = true;\r\n+        try {\r\n+            coursesSelect.innerHTML = '<option value=\"\" disabled>Select Course</option>';\r\n+            \r\n+            if (!coursesOptions[departmentId]) {\r\n+                console.error('No courses found for department:', departmentId);\r\n+                return;\r\n             }\r\n-            coursesSelect.appendChild(option);\r\n-        });\r\n+\r\n+            coursesOptions[departmentId].forEach(course => {\r\n+                const option = document.createElement('option');\r\n+                option.value = course;\r\n+                option.textContent = course;\r\n+                coursesSelect.appendChild(option);\r\n+            });\r\n+        } catch (error) {\r\n+            console.error('Error updating courses:', error);\r\n+        }\r\n     }\r\n \r\n-    // Load initial courses\r\n+    // Initial load\r\n+    const currentDepartment = departmentSelect.value;\r\n     if (currentDepartment) {\r\n-        updateCourses(currentDepartment, currentCourse);\r\n+        console.log('Loading initial courses for department:', currentDepartment);\r\n+        updateCourses(currentDepartment);\r\n     }\r\n \r\n-    // Handle department changes\r\n+    // Department change handler\r\n     departmentSelect.addEventListener('change', function() {\r\n         const selectedDepartment = this.value;\r\n         console.log('Department changed to:', selectedDepartment);\r\n         updateCourses(selectedDepartment);\r\n"
                },
                {
                    "date": 1736717864906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,53 +1,52 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n-    \r\n-    console.log('Initial department value:', departmentSelect.value);\r\n-    console.log('Initial course value:', coursesSelect.value);\r\n+    const currentCourse = coursesSelect.value;\r\n \r\n+    console.log('Initial department:', departmentSelect.value);\r\n+    console.log('Initial course:', currentCourse);\r\n+\r\n     const coursesOptions = {\r\n-        1: ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        2: ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n-        3: ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n-        4: ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n-        5: ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n-        6: ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n-        7: ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n+        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n+        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n+        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n+        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n+        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n+        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n     };\r\n \r\n-    function updateCourses(departmentId) {\r\n-        console.log('Updating courses for department ID:', departmentId);\r\n+    function updateCourses(department) {\r\n+        console.log('Updating courses for:', department);\r\n         \r\n-        try {\r\n-            coursesSelect.innerHTML = '<option value=\"\" disabled>Select Course</option>';\r\n-            \r\n-            if (!coursesOptions[departmentId]) {\r\n-                console.error('No courses found for department:', departmentId);\r\n-                return;\r\n-            }\r\n+        // Keep current course\r\n+        const currentOption = `<option value=\"${currentCourse}\" selected>${currentCourse}</option>`;\r\n+        \r\n+        // Get courses for department\r\n+        const courses = coursesOptions[department] || [];\r\n+        console.log('Available courses:', courses);\r\n \r\n-            coursesOptions[departmentId].forEach(course => {\r\n+        // Update dropdown\r\n+        coursesSelect.innerHTML = currentOption;\r\n+        \r\n+        // Add other courses\r\n+        courses.forEach(course => {\r\n+            if (course !== currentCourse) {\r\n                 const option = document.createElement('option');\r\n                 option.value = course;\r\n                 option.textContent = course;\r\n                 coursesSelect.appendChild(option);\r\n-            });\r\n-        } catch (error) {\r\n-            console.error('Error updating courses:', error);\r\n-        }\r\n+            }\r\n+        });\r\n     }\r\n \r\n     // Initial load\r\n-    const currentDepartment = departmentSelect.value;\r\n-    if (currentDepartment) {\r\n-        console.log('Loading initial courses for department:', currentDepartment);\r\n-        updateCourses(currentDepartment);\r\n+    if (departmentSelect.value) {\r\n+        updateCourses(departmentSelect.value);\r\n     }\r\n \r\n-    // Department change handler\r\n+    // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n-        const selectedDepartment = this.value;\r\n-        console.log('Department changed to:', selectedDepartment);\r\n-        updateCourses(selectedDepartment);\r\n+        updateCourses(this.value);\r\n     });\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736723895636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,10 +2,12 @@\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n     const currentCourse = coursesSelect.value;\r\n \r\n-    console.log('Initial department:', departmentSelect.value);\r\n-    console.log('Initial course:', currentCourse);\r\n+    console.log('DOM Loaded - Initial Values:', {\r\n+        department: departmentSelect.value,\r\n+        course: currentCourse\r\n+    });\r\n \r\n     const coursesOptions = {\r\n         'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n         'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n@@ -15,38 +17,46 @@\n         'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n         'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n     };\r\n \r\n-    function updateCourses(department) {\r\n-        console.log('Updating courses for:', department);\r\n-        \r\n-        // Keep current course\r\n-        const currentOption = `<option value=\"${currentCourse}\" selected>${currentCourse}</option>`;\r\n-        \r\n-        // Get courses for department\r\n+    function updateCourses(department, selectedCourse = null) {\r\n+        console.log('Updating courses for department:', department);\r\n+        console.log('Current selected course:', selectedCourse || currentCourse);\r\n+\r\n+        // Clear existing options\r\n+        coursesSelect.innerHTML = '';\r\n+\r\n+        // Get available courses\r\n         const courses = coursesOptions[department] || [];\r\n         console.log('Available courses:', courses);\r\n \r\n-        // Update dropdown\r\n-        coursesSelect.innerHTML = currentOption;\r\n-        \r\n-        // Add other courses\r\n+        // Add default option\r\n+        const defaultOption = document.createElement('option');\r\n+        defaultOption.value = \"\";\r\n+        defaultOption.textContent = \"Select Course\";\r\n+        defaultOption.disabled = true;\r\n+        defaultOption.selected = !selectedCourse && !currentCourse;\r\n+        coursesSelect.appendChild(defaultOption);\r\n+\r\n+        // Add course options\r\n         courses.forEach(course => {\r\n-            if (course !== currentCourse) {\r\n-                const option = document.createElement('option');\r\n-                option.value = course;\r\n-                option.textContent = course;\r\n-                coursesSelect.appendChild(option);\r\n-            }\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            option.selected = course === (selectedCourse || currentCourse);\r\n+            coursesSelect.appendChild(option);\r\n         });\r\n     }\r\n \r\n     // Initial load\r\n     if (departmentSelect.value) {\r\n-        updateCourses(departmentSelect.value);\r\n+        console.log('Initial department load:', departmentSelect.value);\r\n+        updateCourses(departmentSelect.value, currentCourse);\r\n     }\r\n \r\n     // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n-        updateCourses(this.value);\r\n+        const selectedDepartment = this.value;\r\n+        console.log('Department changed to:', selectedDepartment);\r\n+        updateCourses(selectedDepartment);\r\n     });\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736724869872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,51 +7,52 @@\n         department: departmentSelect.value,\r\n         course: currentCourse\r\n     });\r\n \r\n+    // Department-course mapping\r\n     const coursesOptions = {\r\n         'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n-        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n-        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n-        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n-        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law', 'Law'],\r\n-        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Marketing'],\r\n+        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education'],\r\n+        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying'],\r\n+        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry'],\r\n+        'Law': ['Civil Law', 'Common Law', 'International Law'],\r\n+        'Pure And Applied Sciences': ['Microbiology', 'Chemistry', 'Mathematics & Actuarial Science', 'Physics']\r\n     };\r\n \r\n-    function updateCourses(department, selectedCourse = null) {\r\n+    function updateCourses(department) {\r\n         console.log('Updating courses for department:', department);\r\n-        console.log('Current selected course:', selectedCourse || currentCourse);\r\n+        console.log('Current selected course:', currentCourse);\r\n \r\n         // Clear existing options\r\n         coursesSelect.innerHTML = '';\r\n \r\n         // Get available courses\r\n         const courses = coursesOptions[department] || [];\r\n         console.log('Available courses:', courses);\r\n \r\n-        // Add default option\r\n-        const defaultOption = document.createElement('option');\r\n-        defaultOption.value = \"\";\r\n-        defaultOption.textContent = \"Select Course\";\r\n-        defaultOption.disabled = true;\r\n-        defaultOption.selected = !selectedCourse && !currentCourse;\r\n-        coursesSelect.appendChild(defaultOption);\r\n+        // Add current course as first option\r\n+        const currentOption = document.createElement('option');\r\n+        currentOption.value = currentCourse;\r\n+        currentOption.textContent = currentCourse;\r\n+        currentOption.selected = true;\r\n+        coursesSelect.appendChild(currentOption);\r\n \r\n-        // Add course options\r\n+        // Add other courses\r\n         courses.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            option.selected = course === (selectedCourse || currentCourse);\r\n-            coursesSelect.appendChild(option);\r\n+            if (course !== currentCourse) {\r\n+                const option = document.createElement('option');\r\n+                option.value = course;\r\n+                option.textContent = course;\r\n+                coursesSelect.appendChild(option);\r\n+            }\r\n         });\r\n     }\r\n \r\n     // Initial load\r\n     if (departmentSelect.value) {\r\n         console.log('Initial department load:', departmentSelect.value);\r\n-        updateCourses(departmentSelect.value, currentCourse);\r\n+        updateCourses(departmentSelect.value);\r\n     }\r\n \r\n     // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n"
                },
                {
                    "date": 1736725078269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,63 +1,31 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n     const currentCourse = coursesSelect.value;\r\n+    \r\n+    // Get departments data from context\r\n+    const coursesOptions = JSON.parse(document.getElementById('departments-data').textContent);\r\n \r\n-    console.log('DOM Loaded - Initial Values:', {\r\n-        department: departmentSelect.value,\r\n-        course: currentCourse\r\n-    });\r\n-\r\n-    // Department-course mapping\r\n-    const coursesOptions = {\r\n-        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Marketing'],\r\n-        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education'],\r\n-        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying'],\r\n-        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry'],\r\n-        'Law': ['Civil Law', 'Common Law', 'International Law'],\r\n-        'Pure And Applied Sciences': ['Microbiology', 'Chemistry', 'Mathematics & Actuarial Science', 'Physics']\r\n-    };\r\n-\r\n     function updateCourses(department) {\r\n-        console.log('Updating courses for department:', department);\r\n-        console.log('Current selected course:', currentCourse);\r\n-\r\n-        // Clear existing options\r\n+        const courses = coursesOptions[department] || [];\r\n         coursesSelect.innerHTML = '';\r\n-\r\n-        // Get available courses\r\n-        const courses = coursesOptions[department] || [];\r\n-        console.log('Available courses:', courses);\r\n-\r\n-        // Add current course as first option\r\n-        const currentOption = document.createElement('option');\r\n-        currentOption.value = currentCourse;\r\n-        currentOption.textContent = currentCourse;\r\n-        currentOption.selected = true;\r\n-        coursesSelect.appendChild(currentOption);\r\n-\r\n-        // Add other courses\r\n+        \r\n         courses.forEach(course => {\r\n-            if (course !== currentCourse) {\r\n-                const option = document.createElement('option');\r\n-                option.value = course;\r\n-                option.textContent = course;\r\n-                coursesSelect.appendChild(option);\r\n-            }\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            option.selected = (course === currentCourse);\r\n+            coursesSelect.appendChild(option);\r\n         });\r\n     }\r\n \r\n     // Initial load\r\n     if (departmentSelect.value) {\r\n-        console.log('Initial department load:', departmentSelect.value);\r\n         updateCourses(departmentSelect.value);\r\n     }\r\n \r\n     // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n-        const selectedDepartment = this.value;\r\n-        console.log('Department changed to:', selectedDepartment);\r\n-        updateCourses(selectedDepartment);\r\n+        updateCourses(this.value);\r\n     });\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736725418727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,63 @@\n document.addEventListener('DOMContentLoaded', function() {\r\n     const departmentSelect = document.getElementById('departmentSelect1');\r\n     const coursesSelect = document.getElementById('coursesSelect1');\r\n     const currentCourse = coursesSelect.value;\r\n-    \r\n-    // Get departments data from context\r\n-    const coursesOptions = JSON.parse(document.getElementById('departments-data').textContent);\r\n \r\n+    console.log('DOM Loaded - Initial Values:', {\r\n+        department: departmentSelect.value,\r\n+        course: currentCourse\r\n+    });\r\n+\r\n+    // Department-course mapping\r\n+    const coursesOptions = {\r\n+        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n+        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Marketing'],\r\n+        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education'],\r\n+        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying'],\r\n+        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry'],\r\n+        'Law': ['Civil Law', 'Common Law', 'International Law'],\r\n+        'Pure And Applied Sciences': ['Microbiology', 'Chemistry', 'Mathematics & Actuarial Science', 'Physics']\r\n+    };\r\n+\r\n     function updateCourses(department) {\r\n+        console.log('Updating courses for department:', department);\r\n+        console.log('Current selected course:', currentCourse);\r\n+\r\n+        // Clear existing options\r\n+        coursesSelect.innerHTML = '';\r\n+\r\n+        // Get available courses\r\n         const courses = coursesOptions[department] || [];\r\n-        coursesSelect.innerHTML = '';\r\n-        \r\n+        console.log('Available courses:', courses);\r\n+\r\n+        // Add current course as first option\r\n+        const currentOption = document.createElement('option');\r\n+        currentOption.value = currentCourse;\r\n+        currentOption.textContent = currentCourse;\r\n+        currentOption.selected = true;\r\n+        coursesSelect.appendChild(currentOption);\r\n+\r\n+        // Add other courses\r\n         courses.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            option.selected = (course === currentCourse);\r\n-            coursesSelect.appendChild(option);\r\n+            if (course !== currentCourse) {\r\n+                const option = document.createElement('option');\r\n+                option.value = course;\r\n+                option.textContent = course;\r\n+                coursesSelect.appendChild(option);\r\n+            }\r\n         });\r\n     }\r\n \r\n     // Initial load\r\n     if (departmentSelect.value) {\r\n+        console.log('Initial department load:', departmentSelect.value);\r\n         updateCourses(departmentSelect.value);\r\n     }\r\n \r\n     // Handle department changes\r\n     departmentSelect.addEventListener('change', function() {\r\n-        updateCourses(this.value);\r\n+        const selectedDepartment = this.value;\r\n+        console.log('Department changed to:', selectedDepartment);\r\n+        updateCourses(selectedDepartment);\r\n     });\r\n });\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736752881570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,33 +19,17 @@\n         'Pure And Applied Sciences': ['Microbiology', 'Chemistry', 'Mathematics & Actuarial Science', 'Physics']\r\n     };\r\n \r\n     function updateCourses(department) {\r\n-        console.log('Updating courses for department:', department);\r\n-        console.log('Current selected course:', currentCourse);\r\n-\r\n-        // Clear existing options\r\n+        console.log('Updating courses for:', department);\r\n+        const courses = coursesOptions[department] || [];\r\n         coursesSelect.innerHTML = '';\r\n-\r\n-        // Get available courses\r\n-        const courses = coursesOptions[department] || [];\r\n-        console.log('Available courses:', courses);\r\n-\r\n-        // Add current course as first option\r\n-        const currentOption = document.createElement('option');\r\n-        currentOption.value = currentCourse;\r\n-        currentOption.textContent = currentCourse;\r\n-        currentOption.selected = true;\r\n-        coursesSelect.appendChild(currentOption);\r\n-\r\n-        // Add other courses\r\n         courses.forEach(course => {\r\n-            if (course !== currentCourse) {\r\n-                const option = document.createElement('option');\r\n-                option.value = course;\r\n-                option.textContent = course;\r\n-                coursesSelect.appendChild(option);\r\n-            }\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            option.selected = (course === currentCourse);\r\n+            coursesSelect.appendChild(option);\r\n         });\r\n     }\r\n \r\n     // Initial load\r\n"
                },
                {
                    "date": 1736771824732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +0,0 @@\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    const departmentSelect = document.getElementById('departmentSelect1');\r\n-    const coursesSelect = document.getElementById('coursesSelect1');\r\n-    const currentCourse = coursesSelect.value;\r\n-\r\n-    console.log('DOM Loaded - Initial Values:', {\r\n-        department: departmentSelect.value,\r\n-        course: currentCourse\r\n-    });\r\n-\r\n-    // Department-course mapping\r\n-    const coursesOptions = {\r\n-        'Agriculture and Environmental Sciences': ['Agricultural Engineering', 'Animal Science', 'Crop Science', 'Food Science and Technology'],\r\n-        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Marketing'],\r\n-        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education'],\r\n-        'Engineering and Architecture': ['Architecture and interior design', 'Building Technology', 'Quantity Surveying'],\r\n-        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry'],\r\n-        'Law': ['Civil Law', 'Common Law', 'International Law'],\r\n-        'Pure And Applied Sciences': ['Microbiology', 'Chemistry', 'Mathematics & Actuarial Science', 'Physics']\r\n-    };\r\n-\r\n-    function updateCourses(department) {\r\n-        console.log('Updating courses for:', department);\r\n-        const courses = coursesOptions[department] || [];\r\n-        coursesSelect.innerHTML = '';\r\n-        courses.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            option.selected = (course === currentCourse);\r\n-            coursesSelect.appendChild(option);\r\n-        });\r\n-    }\r\n-\r\n-    // Initial load\r\n-    if (departmentSelect.value) {\r\n-        console.log('Initial department load:', departmentSelect.value);\r\n-        updateCourses(departmentSelect.value);\r\n-    }\r\n-\r\n-    // Handle department changes\r\n-    departmentSelect.addEventListener('change', function() {\r\n-        const selectedDepartment = this.value;\r\n-        console.log('Department changed to:', selectedDepartment);\r\n-        updateCourses(selectedDepartment);\r\n-    });\r\n-});\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736771910369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,24 @@\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    const departmentSelect = document.getElementById('departmentSelect1');\r\n+    const coursesSelect = document.getElementById('coursesSelect1');\r\n+    const currentCourse = coursesSelect.value;\r\n+\r\n+    const coursesOptions = {{ departments|safe }};\r\n+\r\n+    function updateCourses(department) {\r\n+        const courses = coursesOptions[department] || [];\r\n+        coursesSelect.innerHTML = '<option value=\"\" disabled>Select Course</option>';\r\n+        \r\n+        courses.forEach(course => {\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            option.selected = (course === currentCourse);\r\n+            coursesSelect.appendChild(option);\r\n+        });\r\n+    }\r\n+\r\n+    departmentSelect.addEventListener('change', function() {\r\n+        updateCourses(this.value);\r\n+    });\r\n+});\n\\ No newline at end of file\n"
                }
            ],
            "date": 1736636226973,
            "name": "Commit-0",
            "content": "document.addEventListener('DOMContentLoaded', function() {\r\n    const departmentSelect = document.getElementById('departmentSelect1');\r\n    const coursesSelect = document.getElementById('coursesSelect1');\r\n    const currentCourse = coursesSelect.value;\r\n\r\n    departmentSelect.addEventListener('change', function() {\r\n        const department = this.value;\r\n        loadCourses(department);\r\n    });\r\n\r\n    // Load initial courses for pre-selected department\r\n    if (departmentSelect.value) {\r\n        loadCourses(departmentSelect.value, currentCourse);\r\n    }\r\n\r\n    function loadCourses(department, selectedCourse = null) {\r\n        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n        const courses = coursesOptions[department] || [];\r\n        \r\n        courses.forEach(course => {\r\n            const option = document.createElement('option');\r\n            option.value = course;\r\n            option.textContent = course;\r\n            if (selectedCourse && course === selectedCourse) {\r\n                option.selected = true;\r\n            }\r\n            coursesSelect.appendChild(option);\r\n        });\r\n    }\r\n});"
        }
    ]
}