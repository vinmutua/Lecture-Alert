{
    "sourceFile": "lecture_alert/accounts/static/javascript/admin_dashboard.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1736718678711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736719016152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,31 +92,21 @@\n     // FORM VALIDATION END\r\n \r\n     document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n         button.addEventListener('click', function() {\r\n-            const lecturerId = this.dataset.lecturerId;\r\n-            \r\n-            if (confirm('Are you sure you want to delete this lecturer? All associated timetable entries will also be deleted.')) {\r\n+            if (confirm('Are you sure you want to delete this lecturer?')) {\r\n+                const lecturerId = this.dataset.lecturerId;\r\n                 fetch(`/delete-lecturer/${lecturerId}/`, {\r\n                     method: 'POST',\r\n                     headers: {\r\n                         'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,\r\n-                    },\r\n+                    }\r\n                 })\r\n                 .then(response => response.json())\r\n                 .then(data => {\r\n                     if (data.status === 'success') {\r\n-                        // Remove row from table\r\n                         this.closest('tr').remove();\r\n-                        // Show success message\r\n-                        alert('Lecturer deleted successfully');\r\n-                    } else {\r\n-                        alert('Error deleting lecturer: ' + data.message);\r\n                     }\r\n-                })\r\n-                .catch(error => {\r\n-                    console.error('Error:', error);\r\n-                    alert('Error deleting lecturer');\r\n                 });\r\n             }\r\n         });\r\n     });\r\n"
                },
                {
                    "date": 1736719026988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         return true;\r\n     };\r\n \r\n     // FORM VALIDATION END\r\n-\r\n+DELETING \r\n     document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n         button.addEventListener('click', function() {\r\n             if (confirm('Are you sure you want to delete this lecturer?')) {\r\n                 const lecturerId = this.dataset.lecturerId;\r\n"
                },
                {
                    "date": 1736719034042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,114 @@\n+document.addEventListener('DOMContentLoaded', function() {\r\n+    console.log('Admin dashboard JS loaded'); // Confirm script loading\r\n+\r\n+    // FORM DEPARTMENTS AND COURSES START\r\n+\r\n+    const roleSelect = document.getElementById('roleSelect');\r\n+    const departmentSelect = document.getElementById('departmentSelect');\r\n+    const coursesSelect = document.getElementById('coursesSelect');\r\n+\r\n+    const coursesOptions = {\r\n+        'Agriculture and Environmental Sciences': ['Agricultural Economics', 'Animal Science', 'Agricultural Sciences and Technology', 'Crop Science', 'Food Science and Technology', 'Forestry and Wildlife', 'Horticulture', 'Soil Science', 'Water Resources Management and Agro-meteorology'],\r\n+        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n+        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n+        'Engineering and Architecture': ['Architecture and Interior Design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n+        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n+        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law'],\r\n+        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n+    };\r\n+\r\n+    roleSelect.addEventListener('change', function() {\r\n+        const selectedRole = roleSelect.value;\r\n+        if (selectedRole === 'Admin') {\r\n+            departmentSelect.disabled = true;\r\n+            coursesSelect.disabled = true;\r\n+        } else {\r\n+            departmentSelect.disabled = false;\r\n+            coursesSelect.disabled = false;\r\n+        }\r\n+    });\r\n+\r\n+    departmentSelect.addEventListener('change', function() {\r\n+        const selectedValue = departmentSelect.value;\r\n+        const options = coursesOptions[selectedValue] || [];\r\n+\r\n+        // Clear previous options\r\n+        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n+\r\n+        // Add new options\r\n+        options.forEach(course => {\r\n+            const option = document.createElement('option');\r\n+            option.value = course;\r\n+            option.textContent = course;\r\n+            coursesSelect.appendChild(option);\r\n+        });\r\n+    });\r\n+// FORM DEPARTMENTS AND COURSES END\r\n+\r\n+    // FORM VALIDATION START\r\n+  \r\n+    window.validateForm = function() {\r\n+        const email = document.querySelector('input[name=\"email\"]').value;\r\n+        const username = document.querySelector('input[name=\"username\"]').value;\r\n+        const fullname = document.querySelector('input[name=\"fullname\"]').value;\r\n+        const role = document.querySelector('select[name=\"role\"]').value;\r\n+        const password = document.querySelector('input[name=\"password\"]').value;\r\n+        const phone = document.querySelector('input[name=\"phone\"]').value;\r\n+\r\n+        // Required fields validation\r\n+        if (!email || !username || !fullname || !role || !password || !phone) {\r\n+            alert('All fields are required');\r\n+            return false;\r\n+        }\r\n+\r\n+        // Email validation\r\n+        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n+        if (!emailPattern.test(email)) {\r\n+            alert('Please enter a valid email address');\r\n+            return false;\r\n+        }\r\n+\r\n+        // Phone validation\r\n+        const phonePattern = /^\\d{10}$/;\r\n+        if (!phonePattern.test(phone)) {\r\n+            alert('Please enter a valid 10-digit phone number');\r\n+            return false;\r\n+        }\r\n+\r\n+        // Department and courses validation for Lecturer\r\n+        if (role === 'Lecturer') {\r\n+            const department = document.querySelector('select[name=\"department\"]').value;\r\n+            const courses = document.querySelector('select[name=\"courses\"]').value;\r\n+            \r\n+            if (!department || !courses) {\r\n+                alert('Department and Courses are required for Lecturers');\r\n+                return false;\r\n+            }\r\n+        }\r\n+\r\n+        return true;\r\n+    };\r\n+\r\n+    // FORM VALIDATION END\r\n+// DELETING LECTURER\r\n+    document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n+        button.addEventListener('click', function() {\r\n+            if (confirm('Are you sure you want to delete this lecturer?')) {\r\n+                const lecturerId = this.dataset.lecturerId;\r\n+                fetch(`/delete-lecturer/${lecturerId}/`, {\r\n+                    method: 'POST',\r\n+                    headers: {\r\n+                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,\r\n+                    }\r\n+                })\r\n+                .then(response => response.json())\r\n+                .then(data => {\r\n+                    if (data.status === 'success') {\r\n+                        this.closest('tr').remove();\r\n+                    }\r\n+                });\r\n+            }\r\n+        });\r\n+    });\r\n+\r\n+});\r\n"
                },
                {
                    "date": 1736719040300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,9 @@\n         return true;\r\n     };\r\n \r\n     // FORM VALIDATION END\r\n-// DELETING LECTURER\r\n+// DELETING LECTURER START \r\n     document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n         button.addEventListener('click', function() {\r\n             if (confirm('Are you sure you want to delete this lecturer?')) {\r\n                 const lecturerId = this.dataset.lecturerId;\r\n@@ -111,118 +111,4 @@\n         });\r\n     });\r\n \r\n });\r\n-document.addEventListener('DOMContentLoaded', function() {\r\n-    console.log('Admin dashboard JS loaded'); // Confirm script loading\r\n-\r\n-    // FORM DEPARTMENTS AND COURSES START\r\n-\r\n-    const roleSelect = document.getElementById('roleSelect');\r\n-    const departmentSelect = document.getElementById('departmentSelect');\r\n-    const coursesSelect = document.getElementById('coursesSelect');\r\n-\r\n-    const coursesOptions = {\r\n-        'Agriculture and Environmental Sciences': ['Agricultural Economics', 'Animal Science', 'Agricultural Sciences and Technology', 'Crop Science', 'Food Science and Technology', 'Forestry and Wildlife', 'Horticulture', 'Soil Science', 'Water Resources Management and Agro-meteorology'],\r\n-        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n-        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n-        'Engineering and Architecture': ['Architecture and Interior Design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n-        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n-        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law'],\r\n-        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n-    };\r\n-\r\n-    roleSelect.addEventListener('change', function() {\r\n-        const selectedRole = roleSelect.value;\r\n-        if (selectedRole === 'Admin') {\r\n-            departmentSelect.disabled = true;\r\n-            coursesSelect.disabled = true;\r\n-        } else {\r\n-            departmentSelect.disabled = false;\r\n-            coursesSelect.disabled = false;\r\n-        }\r\n-    });\r\n-\r\n-    departmentSelect.addEventListener('change', function() {\r\n-        const selectedValue = departmentSelect.value;\r\n-        const options = coursesOptions[selectedValue] || [];\r\n-\r\n-        // Clear previous options\r\n-        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n-\r\n-        // Add new options\r\n-        options.forEach(course => {\r\n-            const option = document.createElement('option');\r\n-            option.value = course;\r\n-            option.textContent = course;\r\n-            coursesSelect.appendChild(option);\r\n-        });\r\n-    });\r\n-// FORM DEPARTMENTS AND COURSES END\r\n-\r\n-    // FORM VALIDATION START\r\n-  \r\n-    window.validateForm = function() {\r\n-        const email = document.querySelector('input[name=\"email\"]').value;\r\n-        const username = document.querySelector('input[name=\"username\"]').value;\r\n-        const fullname = document.querySelector('input[name=\"fullname\"]').value;\r\n-        const role = document.querySelector('select[name=\"role\"]').value;\r\n-        const password = document.querySelector('input[name=\"password\"]').value;\r\n-        const phone = document.querySelector('input[name=\"phone\"]').value;\r\n-\r\n-        // Required fields validation\r\n-        if (!email || !username || !fullname || !role || !password || !phone) {\r\n-            alert('All fields are required');\r\n-            return false;\r\n-        }\r\n-\r\n-        // Email validation\r\n-        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n-        if (!emailPattern.test(email)) {\r\n-            alert('Please enter a valid email address');\r\n-            return false;\r\n-        }\r\n-\r\n-        // Phone validation\r\n-        const phonePattern = /^\\d{10}$/;\r\n-        if (!phonePattern.test(phone)) {\r\n-            alert('Please enter a valid 10-digit phone number');\r\n-            return false;\r\n-        }\r\n-\r\n-        // Department and courses validation for Lecturer\r\n-        if (role === 'Lecturer') {\r\n-            const department = document.querySelector('select[name=\"department\"]').value;\r\n-            const courses = document.querySelector('select[name=\"courses\"]').value;\r\n-            \r\n-            if (!department || !courses) {\r\n-                alert('Department and Courses are required for Lecturers');\r\n-                return false;\r\n-            }\r\n-        }\r\n-\r\n-        return true;\r\n-    };\r\n-\r\n-    // FORM VALIDATION END\r\n-DELETING \r\n-    document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n-        button.addEventListener('click', function() {\r\n-            if (confirm('Are you sure you want to delete this lecturer?')) {\r\n-                const lecturerId = this.dataset.lecturerId;\r\n-                fetch(`/delete-lecturer/${lecturerId}/`, {\r\n-                    method: 'POST',\r\n-                    headers: {\r\n-                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,\r\n-                    }\r\n-                })\r\n-                .then(response => response.json())\r\n-                .then(data => {\r\n-                    if (data.status === 'success') {\r\n-                        this.closest('tr').remove();\r\n-                    }\r\n-                });\r\n-            }\r\n-        });\r\n-    });\r\n-\r\n-});\r\n"
                }
            ],
            "date": 1736718678711,
            "name": "Commit-0",
            "content": "document.addEventListener('DOMContentLoaded', function() {\r\n    console.log('Admin dashboard JS loaded'); // Confirm script loading\r\n\r\n    // FORM DEPARTMENTS AND COURSES START\r\n\r\n    const roleSelect = document.getElementById('roleSelect');\r\n    const departmentSelect = document.getElementById('departmentSelect');\r\n    const coursesSelect = document.getElementById('coursesSelect');\r\n\r\n    const coursesOptions = {\r\n        'Agriculture and Environmental Sciences': ['Agricultural Economics', 'Animal Science', 'Agricultural Sciences and Technology', 'Crop Science', 'Food Science and Technology', 'Forestry and Wildlife', 'Horticulture', 'Soil Science', 'Water Resources Management and Agro-meteorology'],\r\n        'Business, Economics and Tourism': ['Business Administration', 'Accounting', 'Public Administration', 'Purchasing and Supply', 'Tourism and Hospitality Management', 'Marketing', 'Banking and Finance'],\r\n        'Education & Lifelong Learning': ['Educational Psychology', 'Guidance and Counselling', 'Adult Education', 'Curriculum Studies', 'Educational Management', 'Educational Technology', 'Science Education', 'Social Science Education', 'Language Education', 'Physical and Health Education', 'Vocational and Technical Education', 'Special Education', 'Early Childhood Education', 'Library and Information Science'],\r\n        'Engineering and Architecture': ['Architecture and Interior Design', 'Building Technology', 'Quantity Surveying', 'Urban and Regional Planning', 'Surveying and Geoinformatics', 'Textile Design and Technology'],\r\n        'Health Sciences': ['Human Anatomy', 'Human Physiology', 'Medical Biochemistry', 'Medical Laboratory Science', 'Nursing Science', 'Physiotherapy', 'Radiography', 'Human Nutrition and Dietetics'],\r\n        'Law': ['Civil Law', 'Common Law', 'International Law', 'Private Law', 'Public Law', 'Islamic Law'],\r\n        'Pure And Applied Sciences': ['Microbiology and Biotechnology', 'Chemistry', 'Mathematics & Actuarial Science', 'Plant Sciences', 'Computing & Information Science', 'Physics']\r\n    };\r\n\r\n    roleSelect.addEventListener('change', function() {\r\n        const selectedRole = roleSelect.value;\r\n        if (selectedRole === 'Admin') {\r\n            departmentSelect.disabled = true;\r\n            coursesSelect.disabled = true;\r\n        } else {\r\n            departmentSelect.disabled = false;\r\n            coursesSelect.disabled = false;\r\n        }\r\n    });\r\n\r\n    departmentSelect.addEventListener('change', function() {\r\n        const selectedValue = departmentSelect.value;\r\n        const options = coursesOptions[selectedValue] || [];\r\n\r\n        // Clear previous options\r\n        coursesSelect.innerHTML = '<option value=\"\" disabled selected>Courses</option>';\r\n\r\n        // Add new options\r\n        options.forEach(course => {\r\n            const option = document.createElement('option');\r\n            option.value = course;\r\n            option.textContent = course;\r\n            coursesSelect.appendChild(option);\r\n        });\r\n    });\r\n// FORM DEPARTMENTS AND COURSES END\r\n\r\n    // FORM VALIDATION START\r\n  \r\n    window.validateForm = function() {\r\n        const email = document.querySelector('input[name=\"email\"]').value;\r\n        const username = document.querySelector('input[name=\"username\"]').value;\r\n        const fullname = document.querySelector('input[name=\"fullname\"]').value;\r\n        const role = document.querySelector('select[name=\"role\"]').value;\r\n        const password = document.querySelector('input[name=\"password\"]').value;\r\n        const phone = document.querySelector('input[name=\"phone\"]').value;\r\n\r\n        // Required fields validation\r\n        if (!email || !username || !fullname || !role || !password || !phone) {\r\n            alert('All fields are required');\r\n            return false;\r\n        }\r\n\r\n        // Email validation\r\n        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!emailPattern.test(email)) {\r\n            alert('Please enter a valid email address');\r\n            return false;\r\n        }\r\n\r\n        // Phone validation\r\n        const phonePattern = /^\\d{10}$/;\r\n        if (!phonePattern.test(phone)) {\r\n            alert('Please enter a valid 10-digit phone number');\r\n            return false;\r\n        }\r\n\r\n        // Department and courses validation for Lecturer\r\n        if (role === 'Lecturer') {\r\n            const department = document.querySelector('select[name=\"department\"]').value;\r\n            const courses = document.querySelector('select[name=\"courses\"]').value;\r\n            \r\n            if (!department || !courses) {\r\n                alert('Department and Courses are required for Lecturers');\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    // FORM VALIDATION END\r\n\r\n    document.querySelectorAll('.delete-lecturer').forEach(button => {\r\n        button.addEventListener('click', function() {\r\n            const lecturerId = this.dataset.lecturerId;\r\n            \r\n            if (confirm('Are you sure you want to delete this lecturer? All associated timetable entries will also be deleted.')) {\r\n                fetch(`/delete-lecturer/${lecturerId}/`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value,\r\n                    },\r\n                })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.status === 'success') {\r\n                        // Remove row from table\r\n                        this.closest('tr').remove();\r\n                        // Show success message\r\n                        alert('Lecturer deleted successfully');\r\n                    } else {\r\n                        alert('Error deleting lecturer: ' + data.message);\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error:', error);\r\n                    alert('Error deleting lecturer');\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\n});\r\n"
        }
    ]
}